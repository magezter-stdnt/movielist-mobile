import 'dart:convert';

import 'package:flutter/material.dart';
import 'package:movielist/model/movie_api.dart';
import 'package:movielist/main_screen.dart';
import 'package:http/http.dart' as http;

void main() => runApp(const MyApp());
const primaryColor = Color(0xFF151026);

class MyApp extends StatefulWidget {
  const MyApp({Key? key}) : super(key: key);

  Future <List<Movie>> _fetchAllMovies() async {
    final response =
        await http.get("https://www.episodate.com/api/show-details?q=46778");

    if(response.statusCode == 200) {
      final result = jsonDecode(response.body);
      Iterable list = result["tvShow"];
      return list.map((movie) => Movie.fromJson(movie).toList())
    }
    else{
      throw Exception("Gagal untuk mendapatkan data film");
    }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Movie List',
      theme: ThemeData(primaryColor: primaryColor),
      home: const MainScreen(),
    );
  }
}
